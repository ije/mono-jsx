// generated by build.ts, do not edit

// runtime flags
export const EVENT = 1;
export const CX = 2;
export const STYLE = 4;
export const RENDER_ATTR = 8;
export const RENDER_TOGGLE = 16;
export const RENDER_SWITCH = 32;
export const RENDER_LIST = 64;
export const SIGNALS = 128;
export const SUSPENSE = 256;
export const LAZY = 512;
export const ROUTER = 1024;

/** event.js (193 bytes) */
export const EVENT_JS = `{var w=window;w.$emit=(e,f,s)=>f.call(w.$signals?.(s)??e.target,e.type==="mount"?e.target:e);w.$onsubmit=(e,f,s)=>{e.preventDefault();f.call(w.$signals?.(s)??e.target,new FormData(e.target),e)};}`;

/** cx.js (794 bytes) */
export const CX_JS = `{var i=new Set("animation-iteration-count,aspect-ratio,border-image-outset,border-image-slice,border-image-width,box-flex-group,box-flex,box-ordinal-group,column-count,columns,fill-opacity,flex-grow,flex-negative,flex-order,flex-positive,flex-shrink,flex,flood-opacity,font-weight,grid-area,grid-column-end,grid-column-span,grid-column-start,grid-column,grid-row-end,grid-row-span,grid-row-start,grid-row,line-clamp,line-height,opacity,order,orphans,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width,tab-size,widows,z-index,zoom".split(",")),r=e=>typeof e=="string",o=e=>typeof e=="object"&&e!==null;var n=e=>r(e)?e:o(e)?Array.isArray(e)?e.map(n).filter(Boolean).join(" "):Object.entries(e).filter(([,t])=>!!t).map(([t])=>t).join(" "):"";window.$cx=n;}`;

/** style.js (1,759 bytes) */
export const STYLE_JS = `{var a=new Set("animation-iteration-count,aspect-ratio,border-image-outset,border-image-slice,border-image-width,box-flex-group,box-flex,box-ordinal-group,column-count,columns,fill-opacity,flex-grow,flex-negative,flex-order,flex-positive,flex-shrink,flex,flood-opacity,font-weight,grid-area,grid-column-end,grid-column-span,grid-column-start,grid-column,grid-row-end,grid-row-span,grid-row-start,grid-row,line-clamp,line-height,opacity,order,orphans,stop-opacity,stroke-dasharray,stroke-dashoffset,stroke-miterlimit,stroke-opacity,stroke-width,tab-size,widows,z-index,zoom".split(",")),l=e=>typeof e=="string",u=e=>typeof e=="object"&&e!==null,p=e=>e.replace(/[a-z][A-Z]/g,n=>n.charAt(0)+"-"+n.charAt(1).toLowerCase());var g=e=>{let n=[],r=[],t=new d;for(let[o,i]of Object.entries(e))switch(o.charCodeAt(0)){case 58:r.push(null,o+"{"+c(i)+"}");break;case 64:r.push(o+"{",null,"{"+c(i)+"}}");break;case 38:r.push(null,o.slice(1)+"{"+c(i)+"}");break;default:n.push([o,i])}return n.length>0&&(t.inline=c(n)),r.length>0&&(t.css=r),t},f=(e,n)=>{let{inline:r,css:t}=g(n);if(t){let o="data-css-",i="["+o+(Date.now()+Math.random()).toString(36).replace(".","")+"]";document.head.appendChild(document.createElement("style")).textContent=(r?i+"{"+r+"}":"")+t.map(s=>s===null?i:s).join(""),e.getAttributeNames().forEach(s=>s.startsWith(o)&&e.removeAttribute(s)),e.setAttribute(i.slice(1,-1),"")}else r&&e.setAttribute("style",r)},c=e=>{if(u(e)){let n="";for(let[r,t]of Array.isArray(e)?e:Object.entries(e))if(l(t)||typeof t=="number"){let o=p(r),i=typeof t=="number"?a.has(o)?""+t:t+"px":""+t;n+=(n?";":"")+o+":"+(o==="content"?JSON.stringify(i):i)}return n}return""},d=(()=>{function e(){}return e.prototype=Object.freeze(Object.create(null)),e})();window.$applyStyle=f;}`;

/** render_attr.js (385 bytes) */
export const RENDER_ATTR_JS = `{var r=(l,e,o)=>l.setAttribute(e,o),s=(l,e,o)=>{let n=l.parentElement;return n.tagName==="M-GROUP"&&(n=n.previousElementSibling),()=>{let t=o();t===!1||t===null||t===void 0?n.removeAttribute(e):typeof t=="object"&&t!==null&&(e==="class"||e==="style"||e==="props")?e==="class"?r(n,e,$cx(t)):e==="style"?$applyStyle(n,t):r(n,e,JSON.stringify(t)):r(n,e,t===!0?"":t)}};window.$renderAttr=s;}`;

/** render_toggle.js (220 bytes) */
export const RENDER_TOGGLE_JS = `{var o=(n,l)=>{let e;return()=>{if(!e){let t=n.firstElementChild;t&&t.tagName==="TEMPLATE"&&t.hasAttribute("m-slot")?e=[...t.content.childNodes]:e=[...n.childNodes]}n.replaceChildren(...l()?e:[])}};window.$renderToggle=o;}`;

/** render_switch.js (446 bytes) */
export const RENDER_SWITCH_JS = `{var a=(o,d)=>{let r,s=o.getAttribute("value"),t,l,i=e=>t.get(e)??t.set(e,[]).get(e);return()=>{if(!t){t=new Map,l=[];for(let e of o.childNodes)if(e.nodeType===1&&e.tagName==="TEMPLATE"&&e.hasAttribute("m-slot")){for(let n of e.content.childNodes)n.nodeType===1&&n.hasAttribute("slot")?i(n.getAttribute("slot")).push(n):l.push(n);e.remove()}else s?i(s).push(e):l.push(e)}r=""+d(),o.replaceChildren(...t.has(r)?t.get(r):l)}};window.$renderSwitch=a;}`;

/** render_list.js (1,014 bytes) */
export const RENDER_LIST_JS = `{var p=s=>s.map(o=>o.cloneNode(!0)),m=s=>s.forEach(o=>o.remove());var E=(s,o,h)=>{let d=[],r=null,f=null;return()=>{if(r===null){r=[];let e=o.nextSibling;if(e&&e.nodeType===8&&e.textContent==="["){let t=[],i=[e];for(;e=e.nextSibling;)if(e.nodeType===8){let{data:n}=e;if((n===","||n==="]")&&(i.push(e),r.push(t),t=[],n==="]"))break}else t.push(e);m(i)}d=[...r];let{firstElementChild:l}=o;l&&l.tagName==="TEMPLATE"&&l.hasAttribute("m-slot")&&(f=[...l.content.childNodes],l.remove())}r.forEach(m);let a=h();if(Array.isArray(a)){r=new Array(a.length).fill(null);for(let e=0;e<a.length;e++){let l=a[e],t=d[e];t||(t=p(f??d[0]??[]),d[e]=t),s.$forIter(e,l),t.forEach(i=>{i.nodeType===1&&(i.querySelectorAll("m-index").forEach(n=>{n.textContent!==""+e&&(n.textContent=""+e)}),i.querySelectorAll("m-item").forEach(n=>{let c=n.getAttribute(":");if(c?.startsWith(".")){let u=l;for(let g of c.slice(1).split("."))u=u[g];n.textContent!==""+u&&(n.textContent=""+u)}}))}),r[e]=t,o.before(...t)}s.$forIter()}}};window.$renderList=E;}`;

/** signals.js (2,299 bytes) */
export const SIGNALS_JS = `{let w;const h=window,k=new Map,y=new Map,d=n=>y.get(n)??y.set(n,x(n)).get(n),$=()=>Object.create(null),f=(n,e)=>n.getAttribute(e),x=n=>{const e=$(),t=(i,r)=>{e[i]=r},s=new Map,u=(i,r)=>{let o=s.get(i);return o||(o=new Set,s.set(i,o)),o.add(r),()=>{o.delete(r),o.size===0&&s.delete(i)}},c=new Proxy($(),{get:(i,r)=>document.querySelector("[data-ref='"+n+":"+r+"']")});let a,l,g=(i,r)=>{a=i,l=r};return new Proxy(e,{get:(i,r,o)=>{switch(r){case"$init":return t;case"$watch":return u;case"$forIter":return g;case"app":return d(0);case"refs":return c;case"index":return a;case"item":return l;default:return w?.(n,r),Reflect.get(i,r,o)}},set:(i,r,o,m)=>{if(o!==Reflect.get(i,r,m)){const p=s.get(r);return p&&queueMicrotask(()=>p.forEach(M=>M())),Reflect.set(i,r,o,m)}return!1}})},v=(n,e,t,s)=>{switch(t){case"toggle":return $renderToggle(e,s);case"switch":return $renderSwitch(e,s);case"list":return $renderList(n,e,s);case"html":return()=>e.innerHTML=""+s()}return t&&t.length>2&&t.startsWith("[")&&t.endsWith("]")?$renderAttr(e,t.slice(1,-1),s):()=>e.textContent=""+s()},S=n=>{const e=n.indexOf(":");return e>0?[Number(n.slice(0,e)),n.slice(e+1)]:null},b=async n=>{const e=n();return e!==void 0?e:(await new Promise(t=>setTimeout(t,0)),b(n))},E=(n,e)=>customElements.define(n,class extends HTMLElement{disposes=[];connectedCallback(){e(this)}disconnectedCallback(){this.disposes.forEach(t=>t()),this.disposes.length=0}});E("m-signal",n=>{const e=d(Number(f(n,"scope"))),t=f(n,"key");if(t)n.disposes.push(e.$watch(t,v(e,n,f(n,"mode"),()=>e[t])));else{const s=Number(f(n,"computed"));b(()=>k.get(s)).then(([u,c])=>{const a=v(e,n,f(n,"mode"),u.bind(e));c.forEach(l=>{const[g,i]=S(l);n.disposes.push(d(g).$watch(i,a))})})}}),E("m-effect",n=>{const{disposes:e}=n,t=Number(f(n,"scope")),s=Number(f(n,"n")),u=new Array(s);e.push(()=>{u.forEach(c=>typeof c=="function"&&c()),u.length=0});for(let c=0;c<s;c++){const a="$ME_"+t+"_"+c;b(()=>h[a]).then(l=>{const g=[],i=d(t),r=()=>{u[c]=l.call(i)};w=(o,m)=>g.push([o,m]),r(),w=void 0;for(const[o,m]of g)e.push(d(o).$watch(m,r))},()=>{})}}),h.$MS=(n,e)=>{const[t,s]=S(n);d(t).$init(s,e)},h.$MC=(n,e,t)=>{k.set(n,[e,t])},h.$patch=(n,...e)=>{for(const[t,...s]of e){const u=s.pop();let c=n;for(const a of s)c=c[a];c[u]=t}return n},h.$signals=n=>n!==void 0?d(n):void 0;}`;

/** suspense.js (388 bytes) */
export const SUSPENSE_JS = `{const s=new Map,i=e=>e.getAttribute("chunk-id"),l=(e,t)=>customElements.define(e,class extends HTMLElement{connectedCallback(){t(this)}});l("m-portal",e=>{s.set(i(e),e)}),l("m-chunk",e=>{setTimeout(()=>{const t=e.firstChild?.content.childNodes,o=i(e),n=s.get(o);n&&(e.hasAttribute("next")?n.before(...t):(s.delete(o),e.hasAttribute("done")?n.remove():n.replaceWith(...t)),e.remove())})});}`;

/** lazy.js (1,212 bytes) */
export const LAZY_JS = `{const r=document,o=(t,e)=>t.getAttribute(e),i=(t,e=[])=>t.replaceChildren(...e);customElements.define("m-component",class extends HTMLElement{static observedAttributes=["name","props"];#e;#i;#n;#s;#t;async#r(){const t={"x-component":this.#e,"x-props":this.#i??"{}","x-runtime-flag":""+$runtimeFlag,"x-scope-seq":""+$scopeSeq},e=new AbortController;this.#s?.abort(),this.#s=e,i(this,this.#n);const s=await fetch(location.href,{headers:t,signal:e.signal});if(!s.ok)throw i(this),new Error("Failed to fetch component '"+name+"'");const[h,n]=await s.json();this.innerHTML=h,n&&(r.body.appendChild(r.createElement("script")).textContent=n)}connectedCallback(){setTimeout(()=>{if(!this.#e){const t=o(this,"name"),e=o(this,"props");if(!t)throw new Error("Component name is required");this.#e=t,this.#i=e?.startsWith("base64,")?atob(e.slice(7)):null,this.#n=[...this.childNodes]}this.#r()})}disconnectedCallback(){i(this,this.#n),this.#s?.abort(),this.#s=void 0,this.#t&&clearTimeout(this.#t),this.#t=void 0}attributeChangedCallback(t,e,s){this.#e&&s&&e!==s&&(t==="name"?this.#e=s:t==="props"&&(this.#i=s),this.refresh())}refresh(){this.#t&&clearTimeout(this.#t),this.#t=setTimeout(()=>{this.#t=void 0,this.#r()},50)}});}`;

/** router.js (1,899 bytes) */
export const ROUTER_JS = `{const n=document,a=t=>t.split("#",1)[0];customElements.define("m-router",class extends HTMLElement{#t;#e;#s;#i;async#a(t){const i=new AbortController,e={"x-route":"true","x-runtime-flag":""+$runtimeFlag,"x-scope-seq":""+$scopeSeq};this.#i?.abort(),this.#i=i;const s=await fetch(t,{headers:e,signal:i.signal});if(s.status===404){this.replaceChildren(...this.#t);return}if(!s.ok)throw this.replaceChildren(),new Error("Failed to fetch route: "+s.status+" "+s.statusText);const[o,r]=await s.json();this.innerHTML=o,r&&(n.body.appendChild(n.createElement("script")).textContent=r)}#n(){n.querySelectorAll("nav a").forEach(t=>{const{href:i,classList:e}=t,s=t.closest("nav")?.getAttribute("data-active-class")??"active";a(i)===a(location.href)?e.add(s):e.remove(s)})}async navigate(t,i){if(new URL(t,location.href).origin!==location.origin){location.href=t;return}await this.#a(t),this.#n(),i?.replace?history.replaceState({},"",t):history.pushState({},"",t),window.scrollTo(0,0)}connectedCallback(){setTimeout(()=>{if(!this.#t)if(this.getAttribute("status")==="404")this.#t=[...this.childNodes];else{this.#t=[];for(const t of this.childNodes)if(t.nodeType===1&&t.tagName==="TEMPLATE"&&t.hasAttribute("m-slot")){this.#t.push(...t.content.childNodes),t.remove();break}}}),this.#e=t=>{if(t.defaultPrevented||t.altKey||t.ctrlKey||t.metaKey||t.shiftKey||!(t.target instanceof HTMLAnchorElement))return;const{download:i,href:e,rel:s,target:o}=t.target;i||s==="external"||o==="_blank"||!e||!e.startsWith(location.origin)||a(e)===a(location.href)||(t.preventDefault(),this.navigate(e))},this.#s=()=>{this.#a(location.href).then(()=>{this.#n()})},addEventListener("popstate",this.#s),n.addEventListener("click",this.#e),setTimeout(()=>this.#n())}disconnectedCallback(){removeEventListener("popstate",this.#s),n.removeEventListener("click",this.#e),this.#i?.abort(),this.#i=void 0,this.#e=void 0,this.#s=void 0}});}`;
