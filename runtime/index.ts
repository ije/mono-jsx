// generated by build.ts, do not edit

/** signals.js (2,944 bytes) */
export const SIGNALS_JS = `const h=globalThis,w=new Map,y=new Map,f=e=>y.get(e)??y.set(e,N(e)).get(e),d=(e,t)=>e.getAttribute(t),p=(e,t)=>e.hasAttribute(t),b=(e,t,o)=>e.setAttribute(t,o),M=(e,t)=>e.replaceChildren(...t),N=e=>{const t=Object.create(null),o=new Map,s=(i,l)=>{let r=l;Object.defineProperty(t,i,{get:()=>(E?.(e,i),r),set:c=>{if(c!==r){const a=o.get(i);a&&queueMicrotask(()=>a.forEach(u=>u())),r=c}}})},n=(i,l)=>{let r=o.get(i);return r||(r=new Set,o.set(i,r)),r.add(l),()=>{r.delete(l),r.size===0&&o.delete(i)}};return e>0&&Object.defineProperty(t,"app",{get:()=>f(0).store,enumerable:!1,configurable:!1}),{store:t,define:s,watch:n}},T=(e,t,o)=>{if(t==="toggle"){let s;return()=>{if(!s){const n=e.firstElementChild;n&&n.tagName==="TEMPLATE"&&p(n,"m-slot")?s=[...n.content.childNodes]:s=[...e.childNodes]}M(e,o()?s:[])}}if(t==="switch"){let s,n=d(e,"match"),i,l,r=c=>i.get(c)??i.set(c,[]).get(c);return()=>{if(!i){i=new Map,l=[];for(const c of e.childNodes)if(c.nodeType===1&&c.tagName==="TEMPLATE"&&p(c,"m-slot")){for(const a of c.content.childNodes)a.nodeType===1&&p(a,"slot")?r(d(a,"slot")).push(a):l.push(a);c.remove()}else n?r(n).push(c):l.push(c)}s=""+o(),M(e,i.has(s)?i.get(s):l)}}if(t&&t.length>2&&t.startsWith("[")&&t.endsWith("]")){let s=t.slice(1,-1),n=e.parentElement;return n.tagName==="M-GROUP"&&(n=n.previousElementSibling),()=>{const i=o();if(i===!1)n.removeAttribute(s);else if((s==="class"||s==="style")&&typeof i=="object"&&i!==null)if(s==="class")b(n,s,$cx(i));else{const{inline:l}=$styleToCSS(i);l&&b(n,s,l)}else b(n,s,i===!0?"":""+i)}}return()=>e.textContent=""+o()},k=e=>{const t=e.indexOf(":");if(t>0)return[Number(e.slice(0,t)),e.slice(t+1)];throw new Error("Invalid  Singal ID")},v=()=>new Promise(e=>setTimeout(e,0));customElements.define("m-signal",class extends HTMLElement{disposes=[];connectedCallback(){const e=f(Number(d(this,"scope"))),t=d(this,"key");if(t)this.disposes.push(e.watch(t,T(this,d(this,"mode"),()=>e.store[t])));else{const o=Number(d(this,"computed")),s=async()=>{const n=w.get(o);return n||(await v(),s())};s().then(([n,i])=>{const l=T(this,d(this,"mode"),n.bind(e.store));i.forEach(r=>{const[c,a]=k(r);this.disposes.push(f(c).watch(a,l))})})}}disconnectedCallback(){const{disposes:e}=this;e.forEach(t=>t()),e.length=0}});let E;customElements.define("m-effect",class extends HTMLElement{disposes=[];connectedCallback(){const e=Number(d(this,"scope")),t=Number(d(this,"n")),o=new Array(t),{disposes:s}=this;s.push(()=>{o.forEach(n=>typeof n=="function"&&n()),o.length=0});for(let n=0;n<t;n++){const i="$ME_"+e+"_"+n,l=async()=>{const r=h[i];return r||(await v(),l())};l().then(r=>{const c=[],a=f(e),u=()=>{o[n]=r.call(a.store)};E=(g,m)=>c.push([g,m]),u(),E=void 0;for(const[g,m]of c)s.push(f(g).watch(m,u))})}}disconnectedCallback(){const{disposes:e}=this;e.forEach(t=>t()),e.length=0}}),h.$signals=e=>e!==void 0?f(e).store:void 0,h.$MS=(e,t)=>{const[o,s]=k(e);f(o).define(s,t)},h.$MC=(e,t,o)=>{w.set(e,[t,o])};`;

/** suspense.js (393 bytes) */
export const SUSPENSE_JS = `const s=new Map,i=(e,t)=>e.hasAttribute(t),l=e=>e.getAttribute("chunk-id"),c=(e,t)=>customElements.define(e,class extends HTMLElement{connectedCallback(){t(this)}});c("m-portal",e=>{s.set(l(e),e)}),c("m-chunk",e=>{setTimeout(()=>{const t=e.firstChild?.content.childNodes,o=l(e),n=s.get(o);n&&(i(e,"next")?n.before(...t):(s.delete(o),i(e,"done")?n.remove():n.replaceWith(...t)),e.remove())})});`;

/** utils */
/** cx.js (213 bytes) */
/** styleToCSS.js (1,360 bytes) */
/** event.js (353 bytes) */
export const UTILS_JS = {
  cx: `var n=e=>typeof e=="string",o=e=>typeof e=="object"&&e!==null;var t=e=>n(e)?e:o(e)?Array.isArray(e)?e.map(t).filter(Boolean).join(" "):Object.entries(e).filter(([,r])=>!!r).map(([r])=>r).join(" "):"";window.$cx=t;`,
  styleToCSS: `var c=new Set(["animation-iteration-count","aspect-ratio","border-image-outset","border-image-slice","border-image-width","box-flex-group","box-flex","box-ordinal-group","column-count","columns","fill-opacity","flex-grow","flex-negative","flex-order","flex-positive","flex-shrink","flex","flood-opacity","font-weight","grid-area","grid-column-end","grid-column-span","grid-column-start","grid-column","grid-row-end","grid-row-span","grid-row-start","grid-row","line-clamp","line-height","opacity","order","orphans","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-miterlimit","stroke-opacity","stroke-width","tab-size","widows","z-index","zoom"]),a=e=>typeof e=="string",l=e=>typeof e=="object"&&e!==null,u=e=>e.replace(/[a-z][A-Z]/g,t=>t.charAt(0)+"-"+t.charAt(1).toLowerCase());var p=e=>{let t=[],o=[],r={};for(let[n,i]of Object.entries(e))switch(n.charCodeAt(0)){case 58:o.push(null,n+"{"+s(i)+"}");break;case 64:o.push(n+"{",null,"{"+s(i)+"}}");break;case 38:o.push(null,n.slice(1)+"{"+s(i)+"}");break;default:t.push([n,i])}return t.length>0&&(r.inline=s(t)),o.length>0&&(r.css=o),r},s=e=>{if(l(e)){let t="";for(let[o,r]of Array.isArray(e)?e:Object.entries(e))if(a(r)||typeof r=="number"){let n=u(o),i=typeof r=="number"?c.has(n)?""+r:r+"px":""+r;t+=(t?";":"")+n+":"+(n==="content"?JSON.stringify(i):i)}return t}return""};window.$styleToCSS=p;`,
  event: `var _w=window;_w.$emit=(e,fn,s)=>fn.call(_w.$signals?.(s)??e.target,e);_w.$onsubmit=(e,fn,s)=>{e.preventDefault();fn.call(_w.$signals?.(s)??e.target,new FormData(e.target),e)};_w.$onstage=()=>document.querySelectorAll("[onmount]").forEach(t=>{const k="onmount",j=t.getAttribute(k);t.removeAttribute(k);new Function("event",j)({type:"mount",target:t})});`
};
